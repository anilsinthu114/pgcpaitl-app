<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard - PGCPAITL</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body { margin: 0; font-family: system-ui,sans-serif; background: #f5f7fb; }
    .header { background: #003c7a; padding: 16px 20px; color:#fff;
      display:flex;justify-content:space-between;align-items:center; }
    .logout-btn{background:#fff;color:#003c7a;border:none;padding:8px 16px;cursor:pointer;border-radius:4px;font-weight:600;}
    .container{max-width:1200px;margin:20px auto;padding:0 20px;}
    .stat-card{background:#fff;padding:20px;border-radius:8px;text-align:center;
      box-shadow:0 2px 8px rgba(0,0,0,0.1);}
    .stats{display:flex;gap:20px;margin-bottom:20px;}
    .applications{background:#fff;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
    th,td{padding:12px 20px;border-bottom:1px solid #e9ecef;text-align:left;}
    th{background:#f8f9fa;font-weight:600;}
    .status.submitted {background:#d4edda;color:#155724;}
    .status.reviewed {background:#cce5ff;color:#004085;}
    .status.approved {background:#d1ecf1;color:#0c5460;}
    .status.rejected {background:#f8d7da;color:#721c24;}
    .view-btn{background:#007bff;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;}
    .approve-btn{background:#28a745;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;}
    .reject-btn{background:#dc3545;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;}
    .review-btn{background:#ffc107;color:#000;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;}

    .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);}
    .modal-content{background:#fff;margin:5% auto;padding:20px;border-radius:8px;width:90%;max-width:800px;max-height:80%;overflow-y:auto;}
    .close{float:right;font-size:28px;font-weight:bold;cursor:pointer;}
    .file-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #e9ecef;}
  </style>
</head>

<body>
  <div class="header">
    <h1>PGCPAITL Admin Dashboard</h1>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </div>

  <div class="container">
    <div class="stats">
      <div class="stat-card"><h3>Total</h3><p id="totalApps">-</p></div>
      <div class="stat-card"><h3>Submitted</h3><p id="submittedApps">-</p></div>
      <div class="stat-card"><h3>Reviewed</h3><p id="reviewedApps">-</p></div>
      <div class="stat-card"><h3>Approved</h3><p id="approvedApps">-</p></div>
    </div>

    <div class="applications">
      <h2 style="padding:16px">Recent Applications</h2>
      <div id="loading" style="padding:20px;text-align:center;">Loading...</div>

      <table id="appsTable" style="display:none;">
        <thead>
          <tr>
            <th>ID</th><th>Name</th><th>Email</th><th>Mobile</th>
            <th>Qualification</th><th>Status</th><th>Submitted</th><th>Actions</th>
          </tr>
        </thead>
        <tbody id="appsBody"></tbody>
      </table>
    </div>
  </div>

  <!-- DETAILS MODAL -->
  <div id="detailModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h2>Application Details</h2>
      <div id="appDetails"></div>
      <div class="files"><h3>Uploaded Files</h3><div id="appFiles"></div></div>

      <!-- Approve / Reject buttons -->
      <div style="margin-top:20px;display:flex;gap:15px;">
        <button id="approveBtn" class="approve-btn">Approve</button>
        <button id="reviewBtn" class="review-btn">Mark as Reviewed</button>
        <button id="rejectBtn" class="reject-btn">Reject</button>
      </div>
    </div>
  </div>

<script src="/dashboard.js"></script>
</body>
</html>
